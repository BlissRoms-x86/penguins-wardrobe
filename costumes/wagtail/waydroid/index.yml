# waydroid at: 2023-01-26
---
name: waydroid
description: waydroid installer
author: Jon West
release: 0.0.2
distributions:
- bookworm
sequence:
  repositories:
    sources_list:
      - main
      - contrib
      - non-free
    sources_list_d:
      - rm -f /usr/share/keyrings/waydroid.gpg
      - >-
        curl -fsSL  "https://repo.waydro.id/waydroid.gpg" | gpg --dearmor -o
        /usr/share/keyrings/waydroid.gpg
      - >-
        echo "deb [signed-by=/usr/share/keyrings/waydroid.gpg]
        https://repo.waydro.id/ bookworm main" | tee
        /etc/apt/sources.list.d/waydroid-ppa.list > /dev/null
    update: true
    upgrade: true
  dependencies:
    - ca-certificates
    - git
    - iptables
    - lxc
    - python3
    - wget
  try_packages:
    - coredhcp-client # Debian 
    - isc-dhcp-client # Ubuntu until kinetic
  packages:
    - gir1.2-gtk-3.0 
    - gir1.2-gtk-4.0 
    - gir1.2-vte-2.91
    - gir1.2-webkit2-4.0
    - net-tools # ifconfig
    - iw # iwclient
    - libvte-2.91-dev
    - network-manager # nmcli
    - python3-gi
    - python3-gi-cairo
    - python3-pip
    - waydroid
    - xclip

    # waydroid_extras
    - lzip # https://github.com/casualsnek/waydroid_script/
    - sqlite3 # https://github.com/casualsnek/waydroid_script/

  debs: false
  packagesPip:
    - gbinder-python
    - pyclip
customize:
  scripts:
    - install_waydroid_package_manager.sh
    - install_waydroid_settings.sh
    - install_image_from_local.sh
    - no_hw_accelleration.sh 
    - "ln -s /bin/python3 /bin/python"
